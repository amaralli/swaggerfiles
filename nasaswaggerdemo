{"name":"Swagger","description":"","version":"DRAFT","channelformat":"v2","type":"channel","_apiSourceData":{"type":"","url":"","hash":"","enabled":false},"recurrence":1,"realtimeavailable":false,"enableNewMetadata":true,"auth":{"type":"custom","authparams":{"definition":{"type":"text","displayname":"Swagger Definition"}}},"methods":[{"name":"Make Request","description":"No description provided.","kind":"action","params":[{"endpoint":{"type":"option","displayname":"API Endpoint","lookup":{"channel":"swaggertest","operation":"getRoutes","key":"key","value":"value"}},"detail":{"type":"option","dependsOn":["endpoint"],"displayname":"Method","lookup":{"channel":"swaggertest","operation":"getMethods","key":"key","value":"value"}}}],"input":{"extensible":false,"attributes":[{"metadata":"generateInputSchema","config":"","data":{}}]},"output":{"extensible":false,"attributes":[{"metadata":"generateSchema","config":"","data":{}}]},"zebricks":[{"brick":"object.get","id":"GET PARAMETERS","inputs":{"object":{"_type":"object","_array":false,"_value":"{{auth.definition}}"},"path":{"_type":"string","_array":false,"_value":"paths.{{params.endpoint}}.{{params.detail}}.parameters"}},"outputs":{"output":{"_type":"object","_array":true}}},{"brick":"list.filterBy","id":"NO PATH","inputs":{"list":{"_availableTypes":["*"],"_type":"object","_array":true,"_value":"{{GET PARAMETERS.output}}"},"operator":{"_type":"string","_array":false,"_value":"=="},"path":{"_type":"string","_array":false,"_value":"in"},"comparison":{"_availableTypes":["string","number","Date","boolean","object","file"],"_type":"string","_array":false,"_value":"path"}},"outputs":{"list":{"_type":"object","_array":true}}},{"brick":"list.reduce","id":"ADJUST LIST","item":"item","inputs":{"list":{"_availableTypes":["*"],"_type":"object","_array":true,"_value":"{{GET PARAMETERS.output}}"},"memo":{"_availableTypes":["*"],"_type":"object","_array":false,"_value":{}},"context":{"userInput":{"_type":"object","_array":false,"_value":"{{input}}"}},"flo":{"_type":"flo","_array":false,"_value":"reduceListValues"}},"outputs":{"item":{"_type":"object","_array":false}}},{"brick":"string.toUpperCase","id":"FORMAT METHOD","inputs":{"string":{"_type":"string","_array":false,"_value":"{{params.detail}}"}},"outputs":{"output":{"_type":"string","_array":false}}},{"brick":"string.concat","id":"FORMAT URL","inputs":{"string1":{"_type":"string","_array":false,"_value":"{{auth.definition.schemes.0}}://{{auth.definition.host}}"},"string2":{"_type":"string","_array":false,"_value":"{{auth.definition.basePath}}"}},"outputs":{"output":{"_type":"string","_array":false}}},{"brick":"http.call","id":"MAKE REQUEST","inputs":{"url":{"_type":"string","_array":false,"_value":"{{FORMAT URL.output}}{{params.endpoint}}"},"method":{"_type":"string","_array":false,"_value":"{{FORMAT METHOD.output}}"},"filterEmpty":{"_type":"boolean","_array":false,"_value":true},"query":{"_availableTypes":["object","string"],"_type":"object","_array":false,"_value":"{{ADJUST LIST.item.query}}"},"headers":{"_type":"object","_array":false,"_value":"{{ADJUST LIST.item.header}}"},"body":{"_type":"object","_array":false,"_value":"{{ADJUST LIST.item.body}}"}},"outputs":{"rawBody":{"_type":"string","_array":false},"statusCode":{"_type":"number","_array":false},"body":{"_type":"object","_array":false}}},{"brick":"object.construct","id":"FORMAT DATA","inputs":{},"outputs":{"output":{"_type":"object","_array":false}}}]},{"name":"getRoutes","description":"Grabs all the routes defined in the given file.","kind":"metadata","zebricks":[{"brick":"json.parse","id":"S1Rak","inputs":{"string":{"_type":"string","_array":false,"_value":"{{auth.definition}}"}},"outputs":{"output":{"_type":"object","_array":false}}},{"brick":"object.get","id":"PATHS","inputs":{"object":{"_type":"object","_array":false,"_value":"{{prevData.output}}"},"path":{"_type":"string","_array":false,"_value":"paths"}},"outputs":{"output":{"_type":"string","_array":false}}},{"brick":"object.map","id":"GRAB PATHS","item":["key","value"],"inputs":{"object":{"_type":"object","_array":false,"_value":"{{PATHS.output}}"},"flo":{"_type":"flo","_array":false,"_value":{"brick":"object.construct","id":"ITEM","inputs":{"key":"{{key}}","value":"{{key}}"},"outputs":{"output":{"_type":"object","_array":false}}}},"concurrency":{"_type":"number","_array":false,"_value":1}},"outputs":{"new list":{"_type":"object","_array":true}}},{"brick":"json.render","id":"LIST PATHS","inputs":{"schema":{"_availableTypes":["object","string","boolean","number"],"_type":"object","_array":true,"_value":"{{prevData.new list}}"}},"outputs":{"output":{"_type":"object","_array":false}}}]},{"name":"getMethods","description":"No description provided.","kind":"metadata","zebricks":[{"brick":"json.parse","id":"rJrBZ","inputs":{"string":{"_type":"string","_array":false,"_value":"{{auth.definition}}"}},"outputs":{"output":{"_type":"object","_array":false}}},{"brick":"object.get","id":"HyUYw","inputs":{"object":{"_type":"object","_array":false,"_value":"{{prevData.output}}"},"path":{"_type":"string","_array":false,"_value":"paths.{{input.endpoint}}"}},"outputs":{"output":{"_type":"string","_array":false}}},{"brick":"object.map","id":"S1oYw","item":["key","value"],"inputs":{"object":{"_type":"object","_array":false,"_value":"{{prevData.output}}"},"flo":{"_type":"flo","_array":false,"_value":{"brick":"object.construct","id":"ByKHO","inputs":{"key":"{{key}}","value":"{{key}}"},"outputs":{"output":{"_type":"object","_array":false}}}},"concurrency":{"_type":"number","_array":false,"_value":1}},"outputs":{"new list":{"_type":"object","_array":true}}},{"brick":"json.render","id":"BJH5w","inputs":{"schema":{"_availableTypes":["object","string","boolean","number"],"_type":"object","_array":true,"_value":"{{prevData.new list}}"}},"outputs":{"output":{"_type":"object","_array":false}}}]},{"name":"generateInputSchema","description":"No description provided.","kind":"metadata","zebricks":[{"brick":"json.parse","id":"PARSE","inputs":{"string":{"_type":"string","_array":false,"_value":"{{auth.definition}}"}},"outputs":{"output":{"_type":"object","_array":false}}},{"brick":"object.get","id":"PARAMETER LIST","inputs":{"object":{"_type":"object","_array":false,"_value":"{{prevData.output}}"},"path":{"_type":"string","_array":false,"_value":"paths.{{input.data.endpoint}}.{{input.data.detail}}.parameters"}},"outputs":{"output":{"_type":"object","_array":true}}},{"brick":"list.filterBy","id":"NOT BODY","inputs":{"list":{"_availableTypes":["*"],"_type":"object","_array":true,"_value":"{{PARAMETER LIST.output}}"},"operator":{"_type":"string","_array":false,"_value":"!="},"path":{"_type":"string","_array":false,"_value":"in"},"comparison":{"_availableTypes":["string","number","Date","boolean","object","file"],"_type":"string","_array":false,"_value":"body"}},"outputs":{"list":{"_type":"object","_array":true}}},{"brick":"list.reduce","id":"REDUCE","inputs":{"list":{"_availableTypes":["*"],"_type":"object","_array":true,"_value":"{{NOT BODY.list}}"},"memo":{"_availableTypes":["*"],"_type":"object","_array":true,"_value":[]},"flo":{"_type":"flo","_array":false,"_value":"reduceList"}},"outputs":{"item":{"_type":"object","_array":true}}},{"brick":"list.findBy","id":"BODY","inputs":{"list":{"_availableTypes":["*"],"_type":"object","_array":true,"_value":"{{PARAMETER LIST.output}}"},"operator":{"_type":"string","_array":false,"_value":"=="},"path":{"_type":"string","_array":false,"_value":"in"},"comparison":{"_availableTypes":["string","number","Date","boolean"],"_type":"string","_array":false,"_value":"body"}},"outputs":{"item":{"_type":"object","_array":false},"index":{"_type":"number","_array":false}}},{"brick":"list.push","id":"COMBINED","inputs":{"item":{"_availableTypes":["*"],"_type":"object","_array":false,"_value":{}},"list":{"_availableTypes":["*"],"_type":"object","_array":true,"_value":"{{REDUCE.item}}"}},"outputs":{"list":{"_type":"object","_array":true}}}]},{"name":"reduceListValues","description":"No description provided.","kind":"metadata","variant":{"_type":"object","_key":"item","_array":false},"memo":{"_type":"object","_array":false},"context":{"userInput":{"_type":"object","_array":false}},"zebricks":[{"brick":"object.get","id":"IN","inputs":{"object":{"_type":"object","_array":false,"_value":"{{item}}"},"path":{"_type":"string","_array":false,"_value":"in"}},"outputs":{"output":{"_type":"string","_array":false}}},{"brick":"object.get","id":"GRAB PARAM","inputs":{"object":{"_type":"object","_array":false,"_value":"{{memo}}"},"path":{"_type":"string","_array":false,"_value":"{{IN.output}}"}},"outputs":{"output":{"_type":"object","_array":false}}},{"brick":"object.get","id":"VALUE","inputs":{"object":{"_type":"object","_array":false,"_value":"{{userInput}}"},"path":{"_type":"string","_array":false,"_value":"{{item.name}}"}},"outputs":{"output":{"_type":"string","_array":false}}},{"brick":"object.set","id":"UPDATE INNER","inputs":{"object":{"_type":"object","_array":false,"_value":"{{GRAB PARAM.output}}"},"path":{"_type":"string","_array":false,"_value":"{{item.name}}"},"value":{"_availableTypes":["*"],"_type":"string","_array":false,"_value":"{{VALUE.output}}"}},"outputs":{"output":{"_type":"object","_array":false}}},{"brick":"object.set","id":"UPDATE OUTER","inputs":{"object":{"_type":"object","_array":false,"_value":"{{memo}}"},"path":{"_type":"string","_array":false,"_value":"{{IN.output}}"},"value":{"_availableTypes":["*"],"_type":"object","_array":false,"_value":"{{UPDATE INNER.output}}"}},"outputs":{"output":{"_type":"object","_array":false}}}]},{"name":"referenceHandler","description":"No description provided.","kind":"metadata","zebricks":[{"brick":"string.length","id":"LENGTH","inputs":{"string":{"_type":"string","_array":false,"_value":"{{input.$ref}}"}},"outputs":{"length":{"_type":"number","_array":false}}},{"brick":"string.replace","id":"DOTS","inputs":{"string":{"_type":"string","_array":false,"_value":"{{input.$ref}}"},"src":{"_type":"string","_array":false,"_value":"/"},"dest":{"_type":"string","_array":false,"_value":"."},"global":{"_type":"boolean","_array":false,"_value":true},"sensitive":{"_type":"boolean","_array":false,"_value":false}},"outputs":{"output":{"_type":"string","_array":false}}},{"brick":"string.substr","id":"REF","inputs":{"string":{"_type":"string","_array":false,"_value":"{{DOTS.output}}"},"start":{"_type":"number","_array":false,"_value":2},"end":{"_type":"number","_array":false,"_value":"{{LENGTH.length}}"}},"outputs":{"output":{"_type":"string","_array":false}}},{"brick":"object.get","id":"H12XC","inputs":{"object":{"_type":"object","_array":false,"_value":"{{auth.definition}}"},"path":{"_type":"string","_array":false,"_value":"{{REF.output}}"}},"outputs":{"output":{"_type":"string","_array":false}}}]},{"name":"getType","description":"No description provided.","kind":"metadata","context":{"type":{"_type":"string","_array":false},"format":{"_type":"string","_array":false}},"zebricks":[{"brick":"control.assignIf","id":"PATH","inputs":{"left-operand":{"_availableTypes":["object","string","number","Date","boolean"],"_type":"string","_array":false,"_value":"{{format}}"},"operator":{"_type":"string","_array":false,"_value":"=="},"right-operand":{"_availableTypes":["object","string","number","Date","boolean"],"_type":"string","_array":false,"_value":""},"valueIfTrue":{"_availableTypes":["*"],"_type":"string","_array":false,"_value":"{{type}}.{{type}}"},"valueIfFalse":{"_availableTypes":["*"],"_type":"string","_array":false,"_value":"{{type}}.{{format}}"}},"outputs":{"output":{"_type":"string","_array":false}}},{"brick":"object.construct","id":"TYPE LIST","inputs":{"integer":{"int32":"number","int64":"number","integer":"number"},"number":{"float":"number","double":"number"},"string":{"string":"string","byte":"string","binary":"string","date":"Date","dateTime":"Date","password":"password"},"boolean":{"boolean":"boolean"}},"outputs":{"output":{"_type":"object","_array":false}}},{"brick":"object.get","id":"GET TYPE","inputs":{"object":{"_type":"object","_array":false,"_value":"{{TYPE LIST.output}}"},"path":{"_type":"string","_array":false,"_value":"{{PATH.output}}"}},"outputs":{"output":{"_type":"string","_array":false}}}]},{"name":"reduceList","description":"No description provided.","kind":"metadata","variant":{"_type":"object","_key":"item","_array":false},"memo":{"_type":"object","_array":true},"zebricks":[{"brick":"list.find","id":"FIND","item":"","inputs":{"list":{"_availableTypes":["*"],"_type":"object","_array":true,"_value":"{{memo}}"},"context":{"in":{"_value":"{{item.in}}","_array":false,"_type":"string"}},"flo":{"_type":"flo","_array":false,"_value":"checkExists"}},"outputs":{"item":{"_type":"object","_array":false},"index":{"_type":"number","_array":false}}},{"brick":"control.assignIf","id":"GRAB ITEM","inputs":{"left-operand":{"_availableTypes":["object","string","number","Date","boolean"],"_type":"number","_array":false,"_value":"{{FIND.index}}"},"operator":{"_type":"string","_array":false,"_value":"=="},"right-operand":{"_availableTypes":["object","string","number","Date","boolean"],"_type":"number","_array":false,"_value":"-1"},"valueIfTrue":{"_availableTypes":["*"],"_type":"object","_array":false,"_value":{"{{item.in}}":[]}},"valueIfFalse":{"_availableTypes":["*"],"_type":"string","_array":false,"_value":"{{FIND.item}}"}},"outputs":{"output":{"_type":"string","_array":false}}},{"brick":"object.get","id":"GET LIST","inputs":{"object":{"_type":"object","_array":false,"_value":"{{GRAB ITEM.output}}"},"path":{"_type":"string","_array":false,"_value":"{{item.in}}"}},"outputs":{"output":{"_type":"string","_array":false}}},{"brick":"control.spawn","id":"TYPE","item":"","inputs":{"flo":{"_type":"flo","_array":false,"_value":"getType"},"context":{"type":{"_type":"string","_array":false,"_value":"{{item.type}}"},"format":{"_type":"string","_array":false,"_value":"{{item.format}}"}}},"outputs":{"output":{"_type":"string","_array":false}}},{"brick":"object.construct","id":"NEW ITEM","inputs":{"name":"{{item.name}}","type":"{{TYPE.output}}"},"outputs":{"output":{"_type":"object","_array":false}}},{"brick":"list.push","id":"NEW LIST","inputs":{"item":{"_availableTypes":["*"],"_type":"object","_array":false,"_value":"{{NEW ITEM.output}}"},"list":{"_availableTypes":["*"],"_type":"object","_array":true,"_value":"{{GET LIST.output}}"}},"outputs":{"list":{"_type":"object","_array":true}}},{"brick":"json.render","id":"UPDATE","inputs":{"schema":{"_availableTypes":["object","string","boolean","number"],"_type":"object","_array":false,"_value":{"{{item.in}}":"{{NEW LIST.list}}"}}},"outputs":{"output":{"_type":"object","_array":false}}},{"brick":"list.push","id":"PUSH","inputs":{"item":{"_availableTypes":["*"],"_type":"object","_array":false,"_value":"{{UPDATE.output}}"},"list":{"_availableTypes":["*"],"_type":"object","_array":true,"_value":"{{memo}}"}},"outputs":{"list":{"_type":"object","_array":true}}},{"brick":"list.length","id":"LENGTH","inputs":{"list":{"_availableTypes":["*"],"_type":"object","_array":true,"_value":"{{PUSH.list}}"}},"outputs":{"length":{"_type":"number","_array":false}}},{"brick":"list.slice","id":"FIRST","inputs":{"list":{"_availableTypes":["*"],"_type":"object","_array":true,"_value":"{{PUSH.list}}"},"start":{"_type":"number","_array":false,"_value":0},"end":{"_type":"number","_array":false,"_value":"{{FIND.index}}"}},"outputs":{"slice":{"_type":"object","_array":true}}},{"brick":"list.slice","id":"LAST","inputs":{"list":{"_availableTypes":["*"],"_type":"object","_array":true,"_value":"{{PUSH.list}}"},"start":{"_type":"number","_array":false,"_value":"{{FIND.index}}"},"end":{"_type":"number","_array":false,"_value":"{{LENGTH.length}}"}},"outputs":{"slice":{"_type":"object","_array":true}}},{"brick":"list.merge","id":"SJHIf","inputs":{"list1":{"_type":"object","_array":true,"_value":"{{FIRST.slice}}"},"list2":{"_type":"object","_array":true,"_value":"{{LAST.slice}}"}},"outputs":{"output":{"_type":"object","_array":true}}}]},{"name":"checkExists","description":"No description provided.","kind":"metadata","variant":{"_key":"item","_array":false,"_type":"object"},"context":{"in":{"_array":false,"_type":"string"}},"zebricks":[{"brick":"object.get","id":"HkmEk","inputs":{"object":{"_type":"object","_array":false,"_value":"{{item}}"},"path":{"_type":"string","_array":false,"_value":"{{in}}"}},"outputs":{"output":{"_type":"string","_array":false}}},{"brick":"control.assignIf","id":"rJ3Fy","inputs":{"left-operand":{"_availableTypes":["object","string","number","Date","boolean"],"_type":"string","_array":false,"_value":"{{prevData.output}}"},"operator":{"_type":"string","_array":false,"_value":"!="},"right-operand":{"_availableTypes":["object","string","number","Date","boolean"],"_type":"string","_array":false,"_value":""},"valueIfTrue":{"_availableTypes":["*"],"_type":"boolean","_array":false,"_value":true},"valueIfFalse":{"_availableTypes":["*"],"_type":"string","_array":false,"_value":false}},"outputs":{"output":{"_type":"string","_array":false}}}]},{"name":"generateOutputSchema","description":"No description provided.","kind":"metadata","zebricks":[{"brick":"json.parse","id":"PARSE","inputs":{"string":{"_type":"string","_array":false,"_value":"{{auth.definition}}"}},"outputs":{"output":{"_type":"object","_array":false}}},{"brick":"object.get","id":"RESP OBJ","inputs":{"object":{"_type":"object","_array":false,"_value":"{{PARSE.output}}"},"path":{"_type":"string","_array":false,"_value":"paths.{{input.data.endpoint}}.{{input.data.detail}}.responses"}},"outputs":{"output":{"_type":"object","_array":false}}},{"brick":"object.pick","id":"200","inputs":{"object":{"_type":"object","_array":false,"_value":"{{RESP OBJ.output}}"}},"outputs":{"200":{"_type":"object","_array":false}}},{"brick":"branch","config":{"conditions":[{"expression":{"operator":"has","A":"{{200.200.schema}}","B":"items"},"method":"checkExists","input":{}},{"default":true,"method":"processOtherSchema","input":{"schema":"{{200.200.schema}}"}}]},"id":"rk-mU"},{"brick":"object.construct","id":"GENERAL","inputs":{"Outputs":[{"name":"Status Code","type":"number"},{"name":"Body","type":"object"}]},"outputs":{"output":{"_type":"object","_array":false}}},{"brick":"control.assignIf","id":"CHECK GENERAL","inputs":{"left-operand":{"_availableTypes":["object","string","number","Date","boolean"],"_type":"string","_array":false,"_value":"{{200.200}}"},"operator":{"_type":"string","_array":false,"_value":"has"},"right-operand":{"_availableTypes":["object","string","number","Date","boolean"],"_type":"string","_array":false,"_value":"schema"},"valueIfTrue":{"_availableTypes":["*"],"_type":"string","_array":false,"_value":"CORRECT"},"valueIfFalse":{"_availableTypes":["*"],"_type":"object","_array":false,"_value":"{{GENERAL.output}}"}},"outputs":{"output":{"_type":"string","_array":false}}}]},{"name":"processOtherSchema","description":"No description provided.","kind":"metadata","zebricks":[{"brick":"branch","config":{"conditions":[{"expression":{"operator":"has","A":"{{input.schema}}","B":"$ref"},"method":"referenceHandler","input":{"$ref":"{{input.schema.$ref}}"}}]},"id":"REF"},{"brick":"control.assignIf","id":"SCHEMA","inputs":{"left-operand":{"_availableTypes":["object","string","number","Date","boolean"],"_type":"object","_array":false,"_value":"{{input.schema}}"},"operator":{"_type":"string","_array":false,"_value":"has"},"right-operand":{"_availableTypes":["object","string","number","Date","boolean"],"_type":"string","_array":false,"_value":"$ref"},"valueIfTrue":{"_availableTypes":["*"],"_type":"string","_array":false,"_value":"{{REF.output}}"},"valueIfFalse":{"_availableTypes":["*"],"_type":"string","_array":false,"_value":"{{input.schema}}"}},"outputs":{"output":{"_type":"string","_array":false}}},{"brick":"object.get","id":"PROP","inputs":{"object":{"_type":"object","_array":false,"_value":"{{SCHEMA.output}}"},"path":{"_type":"string","_array":false,"_value":"properties"}},"outputs":{"output":{"_type":"object","_array":false}}},{"brick":"object.map","id":"rkFJE","item":"","inputs":{"object":{"_type":"object","_array":false,"_value":"{{PROP.output}}"},"flo":{"_type":"flo","_array":false,"_value":"processSchemaObject"},"concurrency":{"_type":"number","_array":false,"_value":1}},"outputs":{"new list":{"_type":"object","_array":true}}}]},{"name":"processSchemaObject","description":"No description provided.","kind":"metadata","variant":[{"_key":"key","_type":"string"},{"_key":"value","_type":"object"}],"zebricks":[{"brick":"branch","config":{"conditions":[{"expression":{"operator":"has","A":"{{value}}","B":"$ref"},"method":"referenceHandler","input":{"$ref":"{{value.$ref}}"}}]},"id":"REF"},{"brick":"control.assignIf","id":"ryhbB","inputs":{"left-operand":{"_availableTypes":["object","string","number","Date","boolean"],"_type":"object","_array":false,"_value":"{{value}}"},"operator":{"_type":"string","_array":false,"_value":"has"},"right-operand":{"_availableTypes":["object","string","number","Date","boolean"],"_type":"string","_array":false,"_value":"$ref"},"valueIfTrue":{"_availableTypes":["*"],"_type":"string","_array":false,"_value":"{{REF.output}}"},"valueIfFalse":{"_availableTypes":["*"],"_type":"string","_array":false,"_value":"{{value}}"}},"outputs":{"output":{"_type":"string","_array":false}}},{"brick":"control.spawn","id":"TYPE","item":"","inputs":{"flo":{"_type":"flo","_array":false,"_value":"getType"},"context":{"type":{"_type":"string","_value":"{{value.type}}"},"format":{"_type":"string","_value":"{{value.format}}"}}},"outputs":{"output":{"_type":"string","_array":false}}},{"brick":"object.construct","id":"Hy_AV","inputs":{"name":"{{key}}","type":"{{TYPE.output}}"},"outputs":{"output":{"_type":"object","_array":false}}}]}]}